function logAverageFrame(times){for(var numberOfEntries=times.length,sum=0,i=numberOfEntries-1;i>numberOfEntries-11;i--)sum+=times[i].duration;console.log("Average scripting time to generate last 10 frames: "+sum/10+"ms")}function callUpdatePositions(){function updatePositions(){var i,top=document.body.scrollTop/1250,phases=[];for(i=0;i<5;i+=1)phases.push(Math.sin(top+i));for(i=0;i<moversNumber;i+=1){var phase=phases[i%5];movers[i].style.transform="translateX("+100*phase+"px)"}requestAnimationFrame(updatePositions)}var movers=document.getElementsByClassName("mover");updatePositions()}var worker=new Worker("js/worker.min.js"),pizzaNumber=100;worker.postMessage({pizzaNumber:pizzaNumber});var moversNumber=function(){var cols=8,height=256,viewportHeight=window.innerHeight,rowsNeeded=Math.floor(viewportHeight/height)+1;return cols*rowsNeeded}();worker.onmessage=function(e){var pizzas=e.data,pizzaElementGenerator=function(i){var pizzaContainer,pizzaImageContainer,pizzaImage,pizzaDescriptionContainer,pizzaName,ul;return pizzaContainer=document.createElement("div"),pizzaImageContainer=document.createElement("div"),pizzaImage=document.createElement("img"),pizzaDescriptionContainer=document.createElement("div"),pizzaContainer.classList.add("randomPizzaContainer"),pizzaContainer.style.width="33.33%",pizzaContainer.style.height="325px",pizzaContainer.id="pizza"+i,pizzaImageContainer.style.width="35%",pizzaImage.src="images/pizza_s.png",pizzaImage.classList.add("img-responsive"),pizzaImageContainer.appendChild(pizzaImage),pizzaContainer.appendChild(pizzaImageContainer),pizzaDescriptionContainer.style.width="65%",pizzaName=document.createElement("h4"),pizzaName.innerHTML=pizzas[i].name,pizzaDescriptionContainer.appendChild(pizzaName),ul=document.createElement("ul"),ul.innerHTML=pizzas[i].pizza,pizzaDescriptionContainer.appendChild(ul),pizzaContainer.appendChild(pizzaDescriptionContainer),pizzaContainer};window.performance.mark("mark_start_generating");for(var pizzasDiv=document.getElementById("randomPizzas"),i=2;i<pizzaNumber;i++)pizzasDiv.appendChild(pizzaElementGenerator(i));window.performance.mark("mark_end_generating"),window.performance.measure("measure_pizza_generation","mark_start_generating","mark_end_generating");var timeToGenerate=window.performance.getEntriesByName("measure_pizza_generation");console.log("Time to generate pizzas on load: "+timeToGenerate[0].duration+"ms")};var resizePizzas=function(size){window.performance.mark("mark_start_resize");var sizeText=["Small","Medium","Large"],width=["25%","30%","50%"];document.getElementById("pizzaSize").innerHTML=sizeText[size-1];for(var pizzas=document.getElementsByClassName("randomPizzaContainer"),newWidth=width[size-1],i=0,l=pizzas.length;i<l;i++)pizzas[i].style.width=newWidth;window.performance.mark("mark_end_resize"),window.performance.measure("measure_pizza_resize","mark_start_resize","mark_end_resize");var timeToResize=window.performance.getEntriesByName("measure_pizza_resize");console.log("Time to resize pizzas: "+timeToResize[timeToResize.length-1].duration+"ms")},frame=0;window.addEventListener("scroll",callUpdatePositions,!1),document.addEventListener("DOMContentLoaded",function(){for(var movingPizzas1=document.getElementById("movingPizzas1"),phases=[],i=0;i<5;i+=1)phases.push(Math.sin(i));for(var elem,phase,cols=8,height=256,i=0;i<moversNumber;i++)elem=document.createElement("img"),elem.className="mover",elem.src="images/pizza_s.png",elem.style.height="100px",elem.style.width="73.333px",elem.basicLeft=i%cols*height,elem.style.top=Math.floor(i/cols)*height+"px",phase=phases[i%5],elem.style.left=elem.basicLeft+100*phase+"px",movingPizzas1.appendChild(elem)});